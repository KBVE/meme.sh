import{j as e,a as j}from"./index.CMSeyhcG.js";import{r as g}from"./index.1Jp-s5Xv.js";import{t as N}from"./bundle-mjs.B9ugUrge.js";import{c as o}from"./clsx.B-dksMZM.js";import{u as x}from"./index.CXp1hAcb.js";import{O as M}from"./OAuthLogin.DbIcA2t6.js";import{s as w}from"./supabaseClient.UdoNoOaI.js";import{u as p,i as L,a as z}from"./userStore.DFyG1IMG.js";import{L as C}from"./loader-circle.B5OOkVwn.js";import{c}from"./createLucideIcon.BPD19Zc-.js";import{F as A}from"./flame.CSRcFzv1.js";import{I as S}from"./info.DB3XAGXj.js";import{X as O}from"./x.D4Nv61Yz.js";import"./index.CoaMyoED.js";import"./preload-helper.BlTxHScW.js";import"./index.CvL_fmfE.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=c("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=c("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=c("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=c("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=c("Theater",[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]]),y=({onLogout:m,redirectTo:h="/",className:s="",variant:a="button",showIcon:l=!0,children:f})=>{const[i,t]=g.useState(!1),u=async()=>{try{t(!0),p.setLoading(!0);const{error:n}=await w.auth.signOut();if(n)throw n;p.logout(),m?m():window.location.href=h}catch(n){console.error("Logout error:",n),p.setError(n instanceof Error?n.message:"Failed to log out")}finally{t(!1),p.setLoading(!1)}},k=a==="dropdown-item"?"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-colors":"inline-flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all duration-200 disabled:bg-red-600/50 disabled:cursor-not-allowed";return e.jsx("button",{onClick:u,disabled:i,className:`${k} ${s}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(C,{size:16,className:"animate-spin"}),e.jsx("span",{children:"Signing out..."})]}):e.jsxs(e.Fragment,{children:[l&&e.jsx(E,{size:16}),e.jsx("span",{children:f||"Sign Out"})]})})},d=j(!1),b=j(!1),r={toggleMenu:()=>d.set(!d.get()),closeMenu:()=>d.set(!1),openMenu:()=>d.set(!0),openAuthModal:()=>b.set(!0),closeAuthModal:()=>b.set(!1)},Y=({className:m})=>{const h=x(d),s=x(L),a=x(z),l=x(b);g.useEffect(()=>{s&&l&&r.closeAuthModal()},[s,l]);const f=()=>l?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r.closeAuthModal}),e.jsxs("div",{className:"relative bg-zinc-900 border border-zinc-700 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[e.jsx("button",{onClick:r.closeAuthModal,className:"absolute top-4 right-4 text-neutral-400 hover:text-neutral-200 transition-colors",children:e.jsx(O,{size:20})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx(v,{size:32,className:"text-emerald-400 mr-2"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent",children:"Welcome to Meme.sh"})]}),e.jsx("p",{className:"text-neutral-400 mb-8",children:"Sign in to upload, like, and share your favorite memes with the community."}),e.jsx(M,{redirectTo:"/",className:"w-full",showTitle:!1}),e.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]})]})]}):null;g.useEffect(()=>{const t=document.getElementById("nav-skeleton-loader"),u=document.getElementById("nav-content");t&&u&&setTimeout(()=>{t.style.opacity="0",u.style.opacity="1",setTimeout(()=>{t.remove()},500)},50)},[]);const i=[{label:"Home",href:"/",icon:I},{label:"Memes",href:"/memes",icon:T},{label:"Create",href:"/create",icon:U},{label:"Trending",href:"/trending",icon:A},{label:"About",href:"/about",icon:S}];return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:N("bg-zinc-900/80 backdrop-blur-md border-b border-zinc-700 sticky top-0 z-50",m),children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"/",className:"flex items-center space-x-2 group",children:[e.jsx(v,{size:24,className:"text-emerald-400 transition-all duration-500 group-hover:scale-125 group-hover:rotate-[360deg] group-hover:text-green-300 drop-shadow-lg group-hover:drop-shadow-xl"}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent group-hover:from-green-300 group-hover:to-emerald-300 transition-all duration-300",children:"Meme.sh"})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:i.map(t=>e.jsxs("a",{href:t.href,className:o("flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium group relative overflow-hidden","text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10","transition-all duration-300 hover:shadow-lg hover:shadow-emerald-500/20","before:absolute before:inset-0 before:bg-gradient-to-r before:from-emerald-500/0 before:via-emerald-500/10 before:to-emerald-500/0","before:translate-x-[-100%] before:transition-transform before:duration-500 hover:before:translate-x-[100%]"),"aria-label":t.label,children:[e.jsx(t.icon,{size:18,className:"transition-all duration-300 group-hover:scale-125 group-hover:text-emerald-300 group-hover:rotate-12 group-hover:drop-shadow-lg"}),e.jsx("span",{className:"hidden lg:inline transition-all duration-300 group-hover:translate-x-1",children:t.label})]},t.href))}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:s?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("a",{href:"/profile",className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10 transition-all duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-black text-sm font-medium",children:a?.username?.[0]?.toUpperCase()||a?.email[0]?.toUpperCase()||"U"}),e.jsx("span",{className:"hidden lg:inline",children:a?.username||a?.email?.split("@")[0]})]}),e.jsx(y,{className:o("px-4 py-2 text-sm font-medium text-neutral-300 hover:text-red-400","border border-zinc-600 rounded-md hover:border-red-400","transition-colors duration-200"),variant:"button",showIcon:!1,onLogout:()=>{r.closeMenu()},children:"Sign Out"})]}):e.jsx("button",{onClick:r.openAuthModal,className:o("px-4 py-2 text-sm font-medium text-black","bg-gradient-to-r from-emerald-400 to-green-400 rounded-md","hover:from-emerald-500 hover:to-green-500","transition-all duration-200 transform hover:scale-105"),children:"Sign In"})}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:r.toggleMenu,className:o("p-2 rounded-md text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10","transition-colors duration-200"),"aria-label":"Toggle menu",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:h?e.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),h&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-zinc-900/95 backdrop-blur-md border-t border-zinc-700",children:[i.map(t=>e.jsxs("a",{href:t.href,className:o("flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium group relative overflow-hidden","text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10","transition-all duration-300 hover:shadow-lg hover:shadow-emerald-500/20","before:absolute before:inset-0 before:bg-gradient-to-r before:from-emerald-500/0 before:via-emerald-500/10 before:to-emerald-500/0","before:translate-x-[-100%] before:transition-transform before:duration-500 hover:before:translate-x-[100%]"),onClick:r.closeMenu,"aria-label":t.label,children:[e.jsx(t.icon,{size:20,className:"transition-all duration-300 group-hover:scale-125 group-hover:text-emerald-300 group-hover:rotate-12 group-hover:drop-shadow-lg"}),e.jsx("span",{className:"transition-all duration-300 group-hover:translate-x-1",children:t.label})]},t.href)),e.jsx("div",{className:"pt-4 border-t border-zinc-700",children:s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"/profile",className:"flex items-center space-x-3 px-3 py-2 text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10 rounded-md transition-all duration-300",onClick:r.closeMenu,children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-black font-medium",children:a?.username?.[0]?.toUpperCase()||a?.email[0]?.toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:a?.username||"User"}),e.jsx("p",{className:"text-xs text-neutral-500",children:a?.email})]})]}),e.jsx("a",{href:"/profile/settings",className:"w-full text-left px-3 py-2 text-base font-medium text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10 rounded-md transition-colors duration-200 block",onClick:r.closeMenu,children:"Profile Settings"}),e.jsx(y,{className:o("w-full text-left px-3 py-2 text-base font-medium","text-red-400 hover:bg-red-500/10 rounded-md","transition-colors duration-200"),variant:"dropdown-item",showIcon:!1,onLogout:()=>{r.closeMenu()},children:"Sign Out"})]}):e.jsx("div",{className:"px-3",children:e.jsx("button",{onClick:r.openAuthModal,className:o("w-full px-3 py-2 text-base font-medium text-black","bg-gradient-to-r from-emerald-400 to-green-400 rounded-md","hover:from-emerald-500 hover:to-green-500","transition-all duration-200"),children:"Sign In"})})})]})})]}),e.jsx(f,{})]})};export{Y as NavigationBar};
