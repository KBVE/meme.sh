import{r,j as e}from"./react.r4gJI2bz.js";import{u as a}from"./@nanostores.BtbAb2LT.js";import{u as g,d as k,c as v,b as w,s as j,a as S,i as N}from"./userstate.D_-DwhNB.js";import"./@supabase.C0lIp2d2.js";import"./Page.astro_astro_type_script_index_0_lang.DRsRsscW.js";import"./react-dom.DZm4RTKV.js";import"./svelte.BVVFYaGB.js";import"./esm-env.rsSWfq8L.js";import"./nanostores.B6d4-zKA.js";import"./supabaseClient.DuTUdOkW.js";const z=({disabled:o=!1})=>{const t=a(g),c=a(k),f=a(v),n=a(w),[x,i]=r.useState(!1),[p,d]=r.useState(!1),[m,l]=r.useState(!1);r.useEffect(()=>{j()},[]),r.useEffect(()=>{n&&S(n)},[n]),r.useEffect(()=>{if(o||m)return;if(localStorage.getItem("meme:onboarding:skipped")==="true"){d(!0),l(!0);return}if(typeof window<"u"&&window.location.pathname.includes("/onboarding")){l(!0);return}const b=setTimeout(()=>{t&&!N()&&i(!0),l(!0)},1500);return()=>clearTimeout(b)},[t,c,f,o,m]);const u=()=>{localStorage.setItem("meme:onboarding:skipped","true"),i(!1),d(!0)},h=s=>{s.target===s.currentTarget&&u()};return o||p||!x||!t?null:e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm transition-all duration-300",onClick:h,children:e.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all duration-300",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-3xl text-white mx-auto mb-4 shadow-lg",children:"ðŸ‘‹"}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-2",children:"Welcome to Meme.sh!"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:"It looks like you're new here! Let's set up your profile so you can start discovering and sharing amazing memes."}),t.user_metadata?.avatar_url&&e.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[e.jsx("img",{src:t.user_metadata.avatar_url,alt:"Your Avatar",className:"w-12 h-12 rounded-full border-2 border-emerald-400 shadow-md object-cover"}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:t.user_metadata?.display_name||t.email})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("a",{href:"/onboarding/",className:"flex-1 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-400 hover:to-green-400 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 text-center",children:"Set Up Profile"}),e.jsx("button",{onClick:u,className:"flex-1 px-6 py-3 border border-neutral-300 dark:border-neutral-600 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 font-semibold rounded-xl transition-all duration-300 hover:scale-105",children:"Skip for Now"})]})]})})})};export{z as default};
