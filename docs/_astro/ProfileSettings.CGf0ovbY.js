import{j as e}from"./index.CMSeyhcG.js";import{r as l}from"./index.1Jp-s5Xv.js";import{u as h}from"./index.CXp1hAcb.js";import{c as P}from"./clsx.B-dksMZM.js";import{a as E,i as M,b as L,u as g}from"./userStore.DFyG1IMG.js";import{c as b}from"./createLucideIcon.BPD19Zc-.js";import{L as j}from"./loader-circle.B5OOkVwn.js";import{U as N}from"./user.xqgumuti.js";import{S as _,G as A,M as U,P as I}from"./settings.CfLcCRdx.js";import{M as R}from"./mail.D8UC6yT5.js";import{X as V}from"./x.D4Nv61Yz.js";import"./preload-helper.BlTxHScW.js";import"./index.CvL_fmfE.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=b("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=b("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=b("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),$=()=>{const v=h(M),t=h(E),y=h(L),[a,m]=l.useState(!1),[c,w]=l.useState("profile"),[r,x]=l.useState({username:"",display_name:"",bio:"",website:"",location:""}),[u,n]=l.useState([]),[d,f]=l.useState(!1);l.useEffect(()=>{t&&x({username:t.username||"",display_name:t.display_name||"",bio:t.bio||"",website:t.website||"",location:t.location||""})},[t]);const i=(s,o)=>{x(S=>({...S,[s]:o})),u.length>0&&n([])},z=async()=>{g.validateProfile();const s=[];if(r.username&&r.username.length<3&&s.push("Username must be at least 3 characters"),r.bio&&r.bio.length>500&&s.push("Bio must be less than 500 characters"),r.website&&!r.website.match(/^https?:\/\/.+/)&&s.push("Website must be a valid URL"),s.length>0){n(s);return}f(!0);try{g.updateBasicProfile(r),m(!1),n([])}catch(o){console.error("Error saving profile:",o),n(["Failed to save profile. Please try again."])}finally{f(!1)}},k=()=>{t&&x({username:t.username||"",display_name:t.display_name||"",bio:t.bio||"",website:t.website||"",location:t.location||""}),m(!1),n([])},C=[{id:"profile",label:"Profile",icon:N},{id:"preferences",label:"Preferences",icon:_},{id:"account",label:"Account",icon:p}];return v?y||!t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-emerald-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(j,{size:48,className:"text-emerald-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-400",children:"Loading profile..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-emerald-900 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-zinc-800/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-zinc-700 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent",children:"Profile Settings"}),e.jsx("p",{className:"text-neutral-400 mt-1",children:"Manage your account and preferences"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-black text-lg font-bold",children:t.username?.[0]?.toUpperCase()||t.email[0]?.toUpperCase()})})]})}),e.jsxs("div",{className:"bg-zinc-800/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-zinc-700 mb-6",children:[e.jsx("div",{className:"border-b border-zinc-700",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:C.map(s=>e.jsxs("button",{onClick:()=>w(s.id),className:P("flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",c===s.id?"border-emerald-400 text-emerald-400":"border-transparent text-neutral-400 hover:text-neutral-300 hover:border-neutral-600"),children:[e.jsx(s.icon,{size:18}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsxs("div",{className:"p-6",children:[c==="profile"&&e.jsxs("div",{className:"space-y-6",children:[u.length>0&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-red-400 font-medium mb-2",children:"Please fix the following errors:"}),e.jsx("ul",{className:"text-red-300 text-sm space-y-1",children:u.map((s,o)=>e.jsxs("li",{children:["â€¢ ",s]},o))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:[e.jsx(N,{size:16,className:"inline mr-2"}),"Username"]}),a?e.jsx("input",{type:"text",value:r.username,onChange:s=>i("username",s.target.value),className:"w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-lg text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter username"}):e.jsx("p",{className:"text-white py-2",children:t.username||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Display Name"}),a?e.jsx("input",{type:"text",value:r.display_name,onChange:s=>i("display_name",s.target.value),className:"w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-lg text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter display name"}):e.jsx("p",{className:"text-white py-2",children:t.display_name||"Not set"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:[e.jsx(R,{size:16,className:"inline mr-2"}),"Email"]}),e.jsx("p",{className:"text-neutral-400 py-2",children:t.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:[e.jsx(A,{size:16,className:"inline mr-2"}),"Website"]}),a?e.jsx("input",{type:"url",value:r.website,onChange:s=>i("website",s.target.value),className:"w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-lg text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"https://example.com"}):e.jsx("p",{className:"text-white py-2",children:t.website?e.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 hover:underline",children:t.website}):"Not set"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:[e.jsx(U,{size:16,className:"inline mr-2"}),"Location"]}),a?e.jsx("input",{type:"text",value:r.location,onChange:s=>i("location",s.target.value),className:"w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-lg text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter location"}):e.jsx("p",{className:"text-white py-2",children:t.location||"Not set"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Bio"}),a?e.jsx("textarea",{value:r.bio,onChange:s=>i("bio",s.target.value),rows:4,className:"w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-lg text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",placeholder:"Tell us about yourself...",maxLength:500}):e.jsx("p",{className:"text-white py-2 min-h-[100px] bg-zinc-700/50 rounded-lg px-3",children:t.bio||"No bio set"}),a&&e.jsxs("p",{className:"text-neutral-400 text-sm mt-1",children:[r.bio.length,"/500 characters"]})]}),e.jsx("div",{className:"flex justify-end space-x-4 pt-4 border-t border-zinc-700",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:k,disabled:d,className:"px-4 py-2 text-neutral-300 hover:text-white border border-zinc-600 rounded-lg hover:border-zinc-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(V,{size:16,className:"inline mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:z,disabled:d,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-lg hover:from-emerald-600 hover:to-green-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[d?e.jsx(j,{size:16,className:"inline mr-2 animate-spin"}):e.jsx(D,{size:16,className:"inline mr-2"}),d?"Saving...":"Save Changes"]})]}):e.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-lg hover:from-emerald-600 hover:to-green-600 transition-all duration-200",children:[e.jsx(I,{size:16,className:"inline mr-2"}),"Edit Profile"]})})]}),c==="preferences"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{size:48,className:"text-emerald-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Preferences"}),e.jsx("p",{className:"text-neutral-400",children:"Preference settings coming soon..."})]})}),c==="account"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{size:48,className:"text-emerald-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Account Settings"}),e.jsx("p",{className:"text-neutral-400",children:"Account management features coming soon..."})]})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-emerald-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-zinc-800/80 backdrop-blur-lg rounded-2xl shadow-2xl p-8 max-w-md w-full border border-zinc-700 text-center",children:[e.jsx(p,{size:48,className:"text-emerald-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Authentication Required"}),e.jsx("p",{className:"text-neutral-400 mb-6",children:"Please sign in to access your profile settings."}),e.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-lg font-medium hover:from-emerald-600 hover:to-green-600 transition-all duration-200 transform hover:scale-105",children:"Return Home"})]})})};export{$ as ProfileSettings};
