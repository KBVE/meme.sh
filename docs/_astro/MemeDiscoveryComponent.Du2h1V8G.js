import{r as M,j as e}from"./react.r4gJI2bz.js";import{t as z}from"./tailwind-merge.B9ugUrge.js";import{c as d}from"./clsx.B-dksMZM.js";import{u}from"./@nanostores.BtbAb2LT.js";import{a as x}from"./nanostores.B6d4-zKA.js";import"./@supabase.C0lIp2d2.js";import"./Page.astro_astro_type_script_index_0_lang.DRsRsscW.js";import"./react-dom.DZm4RTKV.js";import"./svelte.BVVFYaGB.js";import"./esm-env.rsSWfq8L.js";const g=x("stack"),f=x(0),p=x(new Set),o={setMode:t=>g.set(t),setIndex:t=>f.set(t),toggleLike:t=>{const a=p.get(),l=new Set(a);l.has(t)?l.delete(t):l.add(t),p.set(l)}},i=[{id:"1",type:"image",url:"https://picsum.photos/400/600?random=1",title:"When you realize it's Monday again",tags:["relatable","monday","mood"],author:{username:"meme_master_2024",avatar:"https://picsum.photos/40/40?random=10"},stats:{likes:12400,views:45600,shares:890},createdAt:"2024-01-15T10:30:00Z"},{id:"2",type:"video",url:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",thumbnail:"https://picsum.photos/400/600?random=2",title:"Cat discovers antigravity",tags:["cats","funny","physics"],author:{username:"cat_physics_pro",avatar:"https://picsum.photos/40/40?random=11"},stats:{likes:8900,views:32100,shares:567},createdAt:"2024-01-14T15:45:00Z"},{id:"3",type:"image",url:"https://picsum.photos/400/600?random=3",title:"Programmer vs. Code at 3 AM",tags:["programming","relatable","coding"],author:{username:"code_comedian",avatar:"https://picsum.photos/40/40?random=12"},stats:{likes:15600,views:67800,shares:1200},createdAt:"2024-01-13T22:15:00Z"},{id:"4",type:"image",url:"https://picsum.photos/400/600?random=4",title:"When someone says 'It works on my machine'",tags:["programming","bugs","testing"],author:{username:"debug_master",avatar:"https://picsum.photos/40/40?random=13"},stats:{likes:9800,views:28900,shares:445},createdAt:"2024-01-12T09:20:00Z"},{id:"5",type:"video",url:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_2mb.mp4",thumbnail:"https://picsum.photos/400/600?random=5",title:"Dog learns to code better than humans",tags:["dogs","coding","ai"],author:{username:"ai_doggo",avatar:"https://picsum.photos/40/40?random=14"},stats:{likes:22100,views:89400,shares:1800},createdAt:"2024-01-11T14:30:00Z"}],Z=()=>{const t=u(g),a=u(f),l=u(p);M.useEffect(()=>{const s=document.getElementById("meme-discovery-skeleton-loader"),r=document.getElementById("meme-discovery-content");s&&r&&setTimeout(()=>{s.style.opacity="0",r.style.opacity="1",setTimeout(()=>{s.remove()},500)},100)},[]);const m=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),v=s=>{o.toggleLike(s)},j=()=>{a<i.length-1&&o.setIndex(a+1)},w=()=>{a>0&&o.setIndex(a-1)},h=({meme:s,mode:r,className:n})=>{const c=l.has(s.id);return e.jsx("div",{className:z("bg-zinc-900 border border-zinc-700 rounded-2xl overflow-hidden aspect-[3/4] relative group","transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-emerald-500/10",n),children:e.jsxs("div",{className:"relative h-full",children:[s.type==="video"?e.jsx("video",{className:"w-full h-full object-cover",poster:s.thumbnail,controls:!0,playsInline:!0,children:e.jsx("source",{src:s.url,type:"video/mp4"})}):e.jsx("img",{src:s.url,alt:s.title,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("img",{src:s.author.avatar,alt:s.author.username,className:"w-8 h-8 rounded-full border-2 border-emerald-400/50"}),e.jsxs("span",{className:"text-sm text-neutral-300",children:["@",s.author.username]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.slice(0,3).map(b=>e.jsxs("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 text-xs rounded-full backdrop-blur-sm",children:["#",b]},b))}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-neutral-400",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:c?"â¤ï¸":"ðŸ¤",children:c?"â¤ï¸":"ðŸ¤"}),e.jsx("span",{children:m(s.stats.likes+(c?1:0))})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"ðŸ‘ï¸"}),e.jsx("span",{children:m(s.stats.views)})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"ðŸ”„"}),e.jsx("span",{children:m(s.stats.shares)})]})]})]}),r!=="stories"&&e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col space-y-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:()=>v(s.id),className:d("p-3 backdrop-blur-sm text-white rounded-full transition-all duration-300 hover:scale-110",c?"bg-red-500/80 hover:bg-red-400/80":"bg-black/50 hover:bg-emerald-500/50"),children:c?"â¤ï¸":"ðŸ¤"}),e.jsx("button",{className:"p-3 bg-black/50 backdrop-blur-sm text-white rounded-full hover:bg-blue-500/50 transition-all duration-300 hover:scale-110",children:"ðŸ’¬"}),e.jsx("button",{className:"p-3 bg-black/50 backdrop-blur-sm text-white rounded-full hover:bg-purple-500/50 transition-all duration-300 hover:scale-110",children:"ðŸ”„"})]})]})})},N=()=>e.jsxs("div",{className:"relative h-screen flex items-center justify-center p-4",children:[e.jsx("div",{className:"relative w-full max-w-sm",children:i.slice(0,3).map((s,r)=>e.jsx("div",{className:"absolute inset-0 transition-all duration-500",style:{zIndex:10-r,transform:`translateY(${r*8}px) scale(${1-r*.05})`},children:e.jsx(h,{meme:s,mode:"stack"})},s.id))}),e.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 flex space-x-8",children:[e.jsx("button",{className:"p-4 bg-red-500 hover:bg-red-400 text-white rounded-full transition-all duration-300 hover:scale-110 shadow-lg",children:"âŒ"}),e.jsx("button",{onClick:()=>v(i[0].id),className:"p-4 bg-emerald-500 hover:bg-emerald-400 text-white rounded-full transition-all duration-300 hover:scale-110 shadow-lg",children:"â¤ï¸"})]})]}),y=()=>e.jsx("div",{className:"space-y-6 p-4 max-w-md mx-auto",children:i.map(s=>e.jsx("div",{className:"snap-center",children:e.jsx(h,{meme:s,mode:"vertical"})},s.id))}),k=()=>{const s=i[a];return e.jsx("div",{className:"relative h-screen flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 z-20 flex space-x-1",children:i.map((r,n)=>e.jsx("div",{className:"flex-1 h-1 bg-white/30 rounded-full overflow-hidden",children:e.jsx("div",{className:d("h-full bg-white transition-all duration-300",n===a||n<a?"w-full":"w-0")})},n))}),e.jsx(h,{meme:s,mode:"stories"}),e.jsxs("div",{className:"absolute inset-0 z-10 flex",children:[e.jsx("div",{className:"flex-1",onClick:w}),e.jsx("div",{className:"flex-1",onClick:j})]})]})})};return e.jsxs("div",{className:"relative min-h-screen",children:[e.jsxs("div",{className:"min-h-screen",children:[t==="stack"&&e.jsx(N,{}),t==="vertical"&&e.jsx(y,{}),t==="stories"&&e.jsx(k,{})]}),e.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-zinc-900/90 backdrop-blur-md border border-zinc-700 rounded-full px-4 py-2 shadow-xl",children:[e.jsx("button",{onClick:()=>o.setMode("stack"),className:d("p-3 rounded-full transition-all duration-300",t==="stack"?"bg-emerald-500 text-white shadow-lg":"text-neutral-400 hover:text-emerald-400 hover:bg-emerald-500/10"),children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})})}),e.jsx("button",{onClick:()=>o.setMode("vertical"),className:d("p-3 rounded-full transition-all duration-300",t==="vertical"?"bg-emerald-500 text-white shadow-lg":"text-neutral-400 hover:text-emerald-400 hover:bg-emerald-500/10"),children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 16a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})})}),e.jsx("button",{onClick:()=>o.setMode("stories"),className:d("p-3 rounded-full transition-all duration-300",t==="stories"?"bg-emerald-500 text-white shadow-lg":"text-neutral-400 hover:text-emerald-400 hover:bg-emerald-500/10"),children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM14 16a1 1 0 01-1-1v-6a1 1 0 112 0v6a1 1 0 01-1 1z"})})})]})})]})};export{Z as MemeDiscoveryComponent};
