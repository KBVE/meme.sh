import{j as e}from"./index.CMSeyhcG.js";import{r}from"./index.1Jp-s5Xv.js";import{i as o,a as n}from"./userStore.DFyG1IMG.js";import"./preload-helper.BlTxHScW.js";import"./index.CvL_fmfE.js";const N=()=>{const[u,h]=r.useState(!1),[x,i]=r.useState(!1),[l,c]=r.useState(null),[d,s]=r.useState(null),m=r.useCallback(t=>{try{window.location.href=t==="login"?"/auth/login":"/auth/register"}catch(a){s(`Failed to navigate to ${t} page`),console.error("Navigation error:",a)}},[]);if(r.useEffect(()=>{try{if(!o||!n){s("Authentication store not available");return}i(o.get()),c(n.get());const t=o.subscribe(i),a=n.subscribe(c);return h(!0),()=>{t(),a()}}catch(t){s("Failed to access authentication state"),console.error("UserStatus store access error:",t)}},[]),!u)return e.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-700",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-4 bg-zinc-700/60 rounded w-48 mx-auto"})})})});if(d)return e.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-700",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-red-400 text-sm",children:d})})});if(!x)return e.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-neutral-400 text-sm mb-3",children:"Welcome, Guest! ðŸ‘‹ Join our meme community to create and share your content."}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:()=>m("login"),className:"px-4 py-2 text-xs font-medium text-emerald-400 border border-emerald-500/50 rounded-lg hover:bg-emerald-500/10 hover:text-emerald-300 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-emerald-500/20","aria-label":"Login to your account",children:"Login"}),e.jsx("button",{onClick:()=>m("register"),className:"px-4 py-2 text-xs font-medium text-white bg-emerald-500 rounded-lg hover:bg-emerald-600 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-emerald-500/30","aria-label":"Create a new account",children:"Register"})]})]})});const b=l?.username||l?.email?.split("@")[0]||"User";return e.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-700",children:e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-neutral-400 text-sm",children:["Welcome back, ",e.jsx("span",{className:"text-emerald-400 font-medium",children:b}),"! Keep creating amazing memes! ðŸŽ­"]})})})};export{N as UserStatus};
