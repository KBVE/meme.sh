import{r as c}from"./index.1Jp-s5Xv.js";function f(e,t,u){let r=new Set([...t,void 0]);return e.listen((l,n)=>{r.has(n)&&u(l,n)})}let s=(e,t)=>u=>{e.current!==u&&(e.current=u,t())};function a(e,{keys:t,deps:u=[e,t]}={}){let r=c.useRef();r.current=e.get();let l=c.useCallback(i=>(s(r,i)(e.value),t?.length>0?f(e,t,s(r,i)):e.listen(s(r,i))),u),n=()=>r.current;return c.useSyncExternalStore(l,n,n)}export{a as u};
