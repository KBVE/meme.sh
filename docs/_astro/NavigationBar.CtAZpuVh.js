import{R as g,j as e}from"./react.shTzKuC5.js";import{s as l,n as a,i as v,a as j,u as N}from"./navigationStore.huYNPEEf.js";import{t as w}from"./tailwind-merge.B9ugUrge.js";import{c as o}from"./clsx.B-dksMZM.js";import{u as d}from"./@nanostores.CK0No2tf.js";import{T as k,H as y,b as C,S as M,F as S,I as z}from"./lucide-react.CxALjav6.js";import"./@supabase.BXJh_-5x.js";import"./Page.astro_astro_type_script_index_0_lang.DdadVzxE.js";import"./react-dom.BSaNyFgK.js";import"./svelte.BVVFYaGB.js";import"./esm-env.rsSWfq8L.js";import"./nanostores.B6d4-zKA.js";const W=({className:f})=>{const c=d(v),m=d(j),t=d(N);g.useEffect(()=>{(async()=>{const{data:{session:s}}=await l.auth.getSession();s?.user&&a.setAuth(!0,{id:s.user.id,email:s.user.email,username:s.user.user_metadata?.username})})();const{data:{subscription:b}}=l.auth.onAuthStateChange((s,n)=>{n?.user?a.setAuth(!0,{id:n.user.id,email:n.user.email,username:n.user.user_metadata?.username}):a.logout()}),i=document.getElementById("nav-skeleton-loader"),p=document.getElementById("nav-content");return i&&p&&setTimeout(()=>{i.style.opacity="0",p.style.opacity="1",setTimeout(()=>{i.remove()},500)},50),()=>b.unsubscribe()},[]);const u=async()=>{try{const{error:r}=await l.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(r)throw r}catch(r){console.error("Error signing in:",r)}},h=async()=>{try{const{error:r}=await l.auth.signOut();if(r)throw r;a.logout(),a.closeMenu()}catch(r){console.error("Error signing out:",r)}},x=[{label:"Home",href:"/",icon:y},{label:"Memes",href:"/memes",icon:C},{label:"Create",href:"/create",icon:M},{label:"Trending",href:"/trending",icon:S},{label:"About",href:"/about",icon:z}];return e.jsxs("nav",{className:w("bg-zinc-900/80 backdrop-blur-md border-b border-zinc-700 sticky top-0 z-50",f),children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"/",className:"flex items-center space-x-2 group",children:[e.jsx(k,{size:24,className:"text-emerald-400 transition-all duration-500 group-hover:scale-125 group-hover:rotate-[360deg] group-hover:text-green-300 drop-shadow-lg group-hover:drop-shadow-xl"}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent group-hover:from-green-300 group-hover:to-emerald-300 transition-all duration-300",children:"Meme.sh"})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:x.map(r=>e.jsxs("a",{href:r.href,className:o("flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium group relative overflow-hidden","text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10","transition-all duration-300 hover:shadow-lg hover:shadow-emerald-500/20","before:absolute before:inset-0 before:bg-gradient-to-r before:from-emerald-500/0 before:via-emerald-500/10 before:to-emerald-500/0","before:translate-x-[-100%] before:transition-transform before:duration-500 hover:before:translate-x-[100%]"),"aria-label":r.label,children:[e.jsx(r.icon,{size:18,className:"transition-all duration-300 group-hover:scale-125 group-hover:text-emerald-300 group-hover:rotate-12 group-hover:drop-shadow-lg"}),e.jsx("span",{className:"hidden lg:inline transition-all duration-300 group-hover:translate-x-1",children:r.label})]},r.href))}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:m?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-black text-sm font-medium",children:t?.username?.[0]?.toUpperCase()||t?.email[0]?.toUpperCase()||"U"}),e.jsx("span",{className:"text-sm text-neutral-300",children:t?.username||t?.email?.split("@")[0]})]}),e.jsx("button",{onClick:h,className:o("px-4 py-2 text-sm font-medium text-neutral-300 hover:text-red-400","border border-zinc-600 rounded-md hover:border-red-400","transition-colors duration-200"),children:"Sign Out"})]}):e.jsx("button",{onClick:u,className:o("px-4 py-2 text-sm font-medium text-black","bg-gradient-to-r from-emerald-400 to-green-400 rounded-md","hover:from-emerald-500 hover:to-green-500","transition-all duration-200 transform hover:scale-105"),children:"Sign In with GitHub"})}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:a.toggleMenu,className:o("p-2 rounded-md text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10","transition-colors duration-200"),"aria-label":"Toggle menu",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:c?e.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),c&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-zinc-900/95 backdrop-blur-md border-t border-zinc-700",children:[x.map(r=>e.jsxs("a",{href:r.href,className:o("flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium group relative overflow-hidden","text-neutral-300 hover:text-emerald-400 hover:bg-emerald-500/10","transition-all duration-300 hover:shadow-lg hover:shadow-emerald-500/20","before:absolute before:inset-0 before:bg-gradient-to-r before:from-emerald-500/0 before:via-emerald-500/10 before:to-emerald-500/0","before:translate-x-[-100%] before:transition-transform before:duration-500 hover:before:translate-x-[100%]"),onClick:a.closeMenu,"aria-label":r.label,children:[e.jsx(r.icon,{size:20,className:"transition-all duration-300 group-hover:scale-125 group-hover:text-emerald-300 group-hover:rotate-12 group-hover:drop-shadow-lg"}),e.jsx("span",{className:"transition-all duration-300 group-hover:translate-x-1",children:r.label})]},r.href)),e.jsx("div",{className:"pt-4 border-t border-zinc-700",children:m?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-black font-medium",children:t?.username?.[0]?.toUpperCase()||t?.email[0]?.toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-300",children:t?.username||"User"}),e.jsx("p",{className:"text-xs text-neutral-500",children:t?.email})]})]}),e.jsx("button",{onClick:h,className:o("w-full text-left px-3 py-2 text-base font-medium","text-red-400 hover:bg-red-500/10 rounded-md","transition-colors duration-200"),children:"Sign Out"})]}):e.jsx("button",{onClick:u,className:o("w-full px-3 py-2 text-base font-medium text-black","bg-gradient-to-r from-emerald-400 to-green-400 rounded-md","hover:from-emerald-500 hover:to-green-500","transition-all duration-200"),children:"Sign In with GitHub"})})]})})]})};export{W as NavigationBar};
